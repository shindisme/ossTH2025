name: ğŸš€ Deploy to Somee FTP3

on:
  push:
    branches:
      - main # Thay Ä‘á»•i thÃ nh tÃªn branch báº¡n muá»‘n kÃ­ch hoáº¡t deploy (vÃ­ dá»¥: master, production)

jobs:
  web-deploy:
    name: Deploy
    runs-on: ubuntu-latest
    
    steps:
      - name: ğŸšš Get latest code
        uses: actions/checkout@v4
        with:
          fetch-depth: 0 # Quan trá»ng: GiÃºp action FTP hoáº¡t Ä‘á»™ng chÃ­nh xÃ¡c hÆ¡n

      # Náº¿u báº¡n cÃ³ cÃ¡c bÆ°á»›c build (vÃ­ dá»¥: npm run build) thÃ¬ Ä‘áº·t á»Ÿ Ä‘Ã¢y
      # - name: ğŸ› ï¸ Build project
      #   run: |
      #     npm install
      #     npm run build
      
      - name: ğŸ“‚ Deploy to FTP
        uses: SamKirkland/FTP-Deploy-Action@v4.3.4
        with:
          # CÃ¡c thÃ´ng tin káº¿t ná»‘i FTP Ä‘Æ°á»£c láº¥y tá»« GitHub Secrets
          # *LÆ¯U Ã: Somee cÃ³ thá»ƒ yÃªu cáº§u FTPES (Explicit FTPS) hoáº·c FTPS. Báº¡n cÃ³ thá»ƒ cáº§n
          # thá»­ nghiá»‡m vá»›i cá»•ng (port) hoáº·c cÃ i Ä‘áº·t server/ssl-allow.
          server: ${{ secrets.FTP_HOST }}
          username: ${{ secrets.FTP_USERNAME }}
          password: ${{ secrets.FTP_PASSWORD }}
          # folder mÃ  báº¡n muá»‘n upload lÃªn (thÆ°á»ng lÃ  public_html/ hoáº·c root / cá»§a Somee)
          server-dir: /wwwroot/ # Thay Ä‘á»•i Ä‘Æ°á»ng dáº«n Ä‘Ã­ch trÃªn Somee náº¿u cáº§n
          # folder chá»©a code trÃªn GitHub Action runner Ä‘á»ƒ upload (máº·c Ä‘á»‹nh lÃ  thÆ° má»¥c gá»‘c cá»§a repo)
          # local-dir: ./build/ # VÃ­ dá»¥: náº¿u báº¡n cÃ³ bÆ°á»›c build vÃ  code náº±m trong thÆ° má»¥c 'build'
          
          # CÃ i Ä‘áº·t thÃªm (TÃ¹y chá»n)
          # ftp-server-type: 'standard' # TÃ¹y chá»n, cÃ³ thá»ƒ cáº§n náº¿u gáº·p lá»—i
          # secure: true # CÃ³ thá»ƒ cáº§n náº¿u Somee dÃ¹ng FTPS (Implicit FTPS)
          # delete: true # XÃ³a cÃ¡c file trÃªn server mÃ  khÃ´ng cÃ³ trong local
